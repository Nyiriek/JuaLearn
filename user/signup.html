<html>

<head>
    <title>JuaLearn - signup</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/user/static/signup.css" rel="stylesheet">
</head>

<body>
    <div class="signup-box">
        <h1 class="signup-header"><span>JuaLearn</span></h1>
        <h5 class="signup-prompt">Sign up now for a seamless learning experience</h5>
        <form method="POST">
            <label for="username">Username:</label>
            <input class="1" type="text" name="username" id="username" required>
            <label for="email">Email:</label>
            <input class="2" type="email" name="email" id="email" required>
            <label for="password">Password:</label>
            <input type="3" type="password" name="password" id="password" required>
            <button type="button" onclick="validateAndSubmit()">Signup</button>
        </form>
    </div>

    <!-- Custom alert modal container -->
    <div id="customAlert" class="custom-alert">
        <p id="alertMessage">This is a customizable alert!</p>
        <button onclick="closeCustomAlert()">OK</button>
    </div>

    <!-- Overlay background -->
    <div id="overlay" class="overlay"></div>

    <script>
        // AJAX request for user signup
        document.getElementById("signupForm").addEventListener("submit", function(event) {
            event.preventDefault();
            var formData = new FormData(this);
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4) {
                    // Response received
                    if (this.status == 200) {
                        alert("Signup successful!");
                        window.location.href = "/frontend/account.html"; // Redirect to account page
                    } else {
                        alert("Signup failed. Please try again.");
                    }
                }
            };
            xhttp.open("POST", "http://localhost:3000/signup", true); // Replace with your backend URL
            xhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
            xhttp.send(new URLSearchParams(formData).toString());
        });
        </script>
        

</body>

</html>